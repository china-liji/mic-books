# 函数组件&渲染函数的区别

### 渲染函数
```jsx
function renderButton(value) {
  const [num, setNum] = React.useState(0);

  const onClick = React.useCallback(() => {
    setNum(num + value);
  }, [value, num]);

  return <button onClick={onClick}>{num}</button>;
}
```

### 函数组件
```jsx
function Button({ value }) {
  // 直接调用渲染函数
  return renderButton(value);
}
```

### 引用
```jsx
export function Element() {
  const times = React.useRef(-1);

  times.current++;

  return (
    <div>
      button导致的更新次数：{times.current}
      <br />
      渲染函数 setState：{renderButton(1)}
      <br />
      函数组件 setState：<Button value={1} />
    </div>
  );
}
```

### 区别
#### 与 `Container` 的关系
* 函数组件 `Element`：`Container` 是 `Element` 的外层组件，也可称*父组件*；
* 渲染函数 `renderElement`：两者属于同一个组件，`renderElement` 只是 `Container` 渲染内容的一个方式。

#### 域
* 函数组件 `Element`：`Element` 有自己的一个 `域`，在这个 `域` 中，修改自己状态 `setNum` 不会导致 `Container` 更新，`times`变量也不会增加。
* 渲染函数 `renderElement`：渲染函数没有 `域` 这个概念，如果修改状态 `setNum`，则会导致包含它的组件 `Container` 更新，`times`变量也会增加。

### 建议
* 自身需频繁更新的情况下，应该使用 `函数组件`；不涉及更新，则可以使用 `渲染函数`；

* `函数组件` 的参数是 `props`，为了区分，建议 `渲染函数` 的参数，不要将外层组件的 `props` 传递进来，应该使用多参数形式，如：`(a, b, c, d) => { ... }`，以第一眼视觉效果，表明这是个 `渲染函数`。